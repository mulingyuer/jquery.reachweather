'use strict'; (function (a) { a.extend({ reachweather: function reachweather(b) { function c(h) { a.ajax({ url: 'https://api.map.baidu.com/location/ip', data: { ak: b.baidukey, ip: h }, type: 'GET', dataType: 'jsonp', success: function success(i) { var j = i.content.address_detail.city; j ? d(j) : e('\u65E0\u6CD5\u83B7\u53D6\u5230\u5F53\u524D\u6240\u5728\u7684city\uFF08\u57CE\u5E02\uFF09') }, error: function error(i, j, k) { var l = i.status; '1' === l ? k('\u767E\u5EA6\u670D\u52A1\u54CD\u5E94\u8D85\u65F6\u6216\u7CFB\u7EDF\u5185\u90E8\u9519\u8BEF\uFF0C\u9519\u8BEF\u7801\uFF1A ' + l) : '101' === l ? k('\u8BF7\u6C42\u6D88\u606F\u6CA1\u6709\u643A\u5E26\u767E\u5EA6key\uFF0C\u9519\u8BEF\u7801\uFF1A ' + l) : '200' === l ? k('APP\u4E0D\u5B58\u5728\uFF0CAK\u6709\u8BEF\u8BF7\u68C0\u67E5\u518D\u91CD\u8BD5\uFF0C\u9519\u8BEF\u7801\uFF1A ' + l) : '210' === l ? k('APP IP\u6821\u9A8C\u5931\u8D25\uFF0C\u9519\u8BEF\u7801\uFF1A ' + l) : '211' === l ? k('APP SN\u6821\u9A8C\u5931\u8D25 \uFF0C\u9519\u8BEF\u7801\uFF1A ' + l) : '220' === l ? k('APP Referer\u6821\u9A8C\u5931\u8D25\uFF0C\u9519\u8BEF\u7801\uFF1A ' + l) : '240' === l ? k('APP \u670D\u52A1\u88AB\u7981\u7528\uFF0C\u9519\u8BEF\u7801\uFF1A ' + l) : '250' === l ? k('\u7528\u6237\u4E0D\u5B58\u5728\uFF0C\u9519\u8BEF\u7801\uFF1A ' + l) : '260' === l ? k('\u670D\u52A1\u4E0D\u5B58\u5728\uFF0C\u9519\u8BEF\u7801\uFF1A ' + l) : '261' === l ? k('\u670D\u52A1\u88AB\u7981\u7528\uFF0C\u9519\u8BEF\u7801\uFF1A ' + l) : '301' === l ? k('\u6C38\u4E45\u914D\u989D\u8D85\u9650\uFF0C\u9650\u5236\u8BBF\u95EE\uFF0C\u9519\u8BEF\u7801\uFF1A ' + l) : '302' === l ? k('\u5929\u914D\u989D\u8D85\u9650\uFF0C\u9650\u5236\u8BBF\u95EE \uFF0C\u9519\u8BEF\u7801\uFF1A ' + l) : '401' === l ? k('\u5F53\u524D\u5E76\u53D1\u91CF\u5DF2\u7ECF\u8D85\u8FC7\u7EA6\u5B9A\u5E76\u53D1\u914D\u989D\uFF0C\u9650\u5236\u8BBF\u95EE\uFF0C\u9519\u8BEF\u7801\uFF1A ' + l) : '402' === l ? k('\u5F53\u524D\u5E76\u53D1\u91CF\u5DF2\u7ECF\u8D85\u8FC7\u7EA6\u5B9A\u5E76\u53D1\u914D\u989D\uFF0C\u5E76\u4E14\u670D\u52A1\u603B\u5E76\u53D1\u91CF\u4E5F\u5DF2\u7ECF\u8D85\u8FC7\u8BBE\u5B9A\u7684\u603B\u5E76\u53D1\u914D\u989D\uFF0C\u9650\u5236\u8BBF\u95EE\uFF0C\u9519\u8BEF\u7801\uFF1A ' + l) : '1001' === l ? k('\u6CA1\u6709IPv6\u5730\u5740\u8BBF\u95EE\u7684\u6743\u9650\uFF0C\u9519\u8BEF\u7801\uFF1A' + l) : k('\u672A\u5B9A\u4E49\u7684\u9519\u8BEF\uFF0C\u9519\u8BEF\u7801\uFF1A' + l) } }) } function d(h) { a.ajax({ url: 'https://restapi.amap.com/v3/weather/weatherInfo', data: { key: b.amapkey, city: h }, type: 'GET', success: function success(i) { if (i.status) { var j = i.lives[0]; b.success(j) } else e('\u83B7\u53D6\u5929\u6C14\u670D\u52A1\u5668\u8FD4\u56DE\u5931\u8D25\uFF0C\u9519\u8BEF\u6D88\u606F\uFF1A' + i.info + '\u72B6\u6001\u7801\uFF1A' + i.infocode) }, error: function error(i) { var j = i.status; e('\u6700\u540E\u4E00\u6B65\u83B7\u53D6\u5929\u6C14\u65F6ajax\u51FA\u9519\uFF0C\u9519\u8BEF\u7801\uFF1A' + j) } }) } function e(h) { throw new Error(h) } if (!b.baidukey) throw new Error('\u53C2\u6570baidukey\u6CA1\u6709\u4F20\u5165\u5F00\u53D1\u8005key'); if (!b.amapkey) throw new Error('\u53C2\u6570amapkey\u6CA1\u6709\u4F20\u5165\u5F00\u53D1\u8005key'); if (!b.success) throw new Error('\u6CA1\u6709\u4F20\u5165sccess'); else { var h = Object.prototype.toString.call(b.success); if ('function' !== h.substring(1, h.length - 1).split(/\s/)[1].toLowerCase()) throw new Error('\u4F20\u5165\u7684success\u9519\u8BEF\uFF0C\u5B83\u4E0D\u662F\u4E00\u4E2Afunction\uFF01') } var f = a('<script></script>'), g = document.getElementsByTagName('body')[0]; f.on('load', function () { var h = returnCitySN.cname.toLowerCase(); if (h.match('china')) c(returnCitySN.cip); else throw new Error('\u5F53\u524D\u63D2\u4EF6\u4E0D\u652F\u6301\u56FD\u5916\u5929\u6C14\u83B7\u53D6\uFF01') }), f.attr('src', 'https://pv.sohu.com/cityjson?ie=utf-8'), g.appendChild(f[0]) } }) })(jQuery);